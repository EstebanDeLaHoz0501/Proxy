class_name Phishing
extends MalwareBase

# El constructor _init() es donde definimos las características
func _init(nodo_inicio: NodoRed = null):
	# Llama al constructor del padre (MalwareBase)
	super._init("Phishing", nodo_inicio) 
	
	# Sobrescribimos propiedades (Velocidad más lenta para ser más engañoso)
	velocidad_infeccion = 0.8  # Un 20% más lento que el base (1.0)
	
	# Lógica de Spawn del Phishing
	if nodo_inicio == null:
		# Si se llama sin un nodo, encontramos su spawn point
		var target_node = Engine.get_singleton("MapManager").todos_los_nodos["Servidor_Mensajeria"]
		
		if target_node:
			mover_a_nodo(target_node)
		else:
			# Error crítico si no se encuentra el spawn point
			print("ERROR: No se encontró el Servidor de Mensajería para spawnear Phishing.")

# La lógica de procesar_ia() y conquistar_nodo() se heredan del MalwareBase.
